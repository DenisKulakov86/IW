<section>
    <div (click)="picker.open()" matRipple class="date text-primary">
        <input [formControl]='date' [matDatepicker]="picker" autocomplete="off">
        <mat-datepicker #picker [startAt]="date.value | date" (closed)="closedPicker()"></mat-datepicker>
        <h1> {{date.value | date:"EE, d MMM yyyy"}}</h1>
        <p *ngIf="descriptionDate" class="date-description text-accent">{{descriptionDate}}</p>
        <p *ngIf="!descriptionDate" class="date-description">Сегодня</p>
    </div>

    

    <mat-action-list [@salesListAnim]="anim? true : false">
        <mat-list-item (click)="onSelect(s.id, i + 1)" *ngFor=" let s of (sales$ | async); let i = index">

            <div class="sale text-primary">
                <div> {{i + 1}} </div>
                <div> {{s.count}} поз. </div>
                <div> {{s.total | currency:'RUB':'symbol-narrow'}} </div>
            </div>
            <button mat-icon-button (mousedown)="$event.stopPropagation()" (click)="$event.stopPropagation()"
                [matMenuTriggerFor]="menu">
                <mat-icon class="text-primary">more_vert</mat-icon>
            </button>
            <!-- disableRipple="true" -->
            <mat-menu [xPosition]="'before'" #menu="matMenu">
                <button (click)="onDelete(s)" mat-menu-item> Удалить </button>
            </mat-menu>
        </mat-list-item>

    </mat-action-list>

    <button class="btn-fly" (click)="addSale()" mat-fab>
        <mat-icon>add</mat-icon>
    </button>

    <div *ngIf="!(sales$ | async)?.length" class="center-page">
        <h1> Сегодня небыло продаж</h1>
    </div>
</section>